<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>現在地からジム検索</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-800">
  <div class="max-w-3xl mx-auto p-6">
    <h1 class="text-2xl font-bold text-center mb-6">📍 現在地からジムを検索</h1>

    <!-- ✅ ページ説明 -->
    <div class="bg-blue-50 border-l-4 border-blue-400 p-4 rounded mb-8">
      <h2 class="text-lg font-semibold text-blue-700 mb-2">このページでできること</h2>
      <ul class="list-disc list-inside text-gray-700 space-y-1 text-sm">
        <li><strong>現在地を取得</strong>し、近くのジムをGoogleで検索します。</li>
        <li><strong>高評価のジム</strong>がすぐに見つかる可能性があります。</li>
        <li>初心者にも使いやすいページ構成です。</li>
      </ul>
    </div>

    <button class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg shadow mb-6 mx-auto block" onclick="importGymsFromCurrentLocation()">
      📍 現在地からジムを検索
    </button>

    <div id="opinion-area" class="hidden bg-yellow-100 text-yellow-800 p-4 rounded shadow mb-6">
      <p id="opinion-text"></p>
    </div>

    <!-- ✅ ジムの特徴説明 -->
    <div class="bg-green-50 border-l-4 border-green-400 p-4 rounded mb-8">
      <h2 class="text-lg font-semibold text-green-700 mb-2">ジム情報について</h2>
      <p class="text-sm text-gray-700">現在地から、Google検索で近隣のジムを確認できます。距離・評価・施設の特徴などから自分に合ったジムを見つけましょう。</p>
    </div>

    <!-- ✅ 人気ジムリスト -->
    <div class="space-y-4">
      <h2 class="text-lg font-semibold text-yellow-600 border-b pb-2">🏋️‍♂️ よく紹介されるジム</h2>
      <div class="p-4 border-l-4 border-yellow-400 bg-white rounded shadow">
        <strong class="text-base font-semibold block">ゴールドジム</strong>
        初心者からプロまで対応、シャワー・サウナ完備。
      </div>
      <div class="p-4 border-l-4 border-yellow-400 bg-white rounded shadow">
        <strong class="text-base font-semibold block">エニタイムフィットネス</strong>
        24時間営業で通いやすい！女性専用エリア・セキュリティも充実。
      </div>
      <div class="p-4 border-l-4 border-yellow-400 bg-white rounded shadow">
        <strong class="text-base font-semibold block">ティップネス</strong>
        スタジオ・プールも充実。プログラム豊富で家族でも通える人気施設。
      </div>
      <div class="p-4 border-l-4 border-yellow-400 bg-white rounded shadow">
        <strong class="text-base font-semibold block">JOYFIT24</strong>
        希望者に初回のオリエンテーションやカウンセリングあり。
      </div>
      <div class="p-4 border-l-4 border-yellow-400 bg-white rounded shadow">
        <strong class="text-base font-semibold block">FIT PLACE24</strong>
        某有名YouTuber制作　とても安価で高品質の器具も充実。
      </div>
    </div>
  </div>

  <script>
    function importGymsFromCurrentLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function (position) {
          const lat = position.coords.latitude;
          const lng = position.coords.longitude;

          const opinionArea = document.getElementById("opinion-area");
          const opinionText = document.getElementById("opinion-text");

          opinionText.textContent = `現在地（${lat.toFixed(4)}, ${lng.toFixed(4)}）付近には良さそうなジムがいくつかありそうですね！高評価のジムをチェックしてみてください。`;
          opinionArea.classList.remove("hidden");

          setTimeout(() => {
            const query = encodeURIComponent(`近くのジム ${lat},${lng}`);
            const url = `https://www.google.com/search?q=${query}`;
            window.open(url, "_blank");
          }, 2000);
        }, function (error) {
          alert("位置情報の取得に失敗しました：" + error.message);
        });
      } else {
        alert("このブラウザでは位置情報が使用できません。");
      }
    }
  </script>
</body>
</html>
